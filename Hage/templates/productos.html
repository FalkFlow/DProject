{% extends "layouts/base.html" %}

{% block content %}
<h1 class="Titulo text-center">Cat√°logo</h1>
{% comment %} onclick="addToCart('{{ product.id }}', '{{ product.name }}', '{{ product.price }}', '{{ product.image }}');" {% endcomment %}
{% for categoria in categorias %}
    <h2>{{ categoria.name }}</h2>
    <div class="row">
        {% for producto in productos %}
            {% if producto.categoria == categoria %}
                <div class="col-md-4">
                    <div class="card mb-4 shadow-sm">
                        <img src="{{ producto.imagen }}" class="card-img-top" alt="{{ producto.name }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ producto.name }}</h5>
                            <p class="card-text">Precio: {{ producto.precio }}</p>
                            {% if perfil != 'admin' and perfil != 'cliente' %}
                                <button class="btn btn-primary w-100 mt-3 disabled"
                                onclick="agregar('{{ producto.id }}', '{{ producto.name }}', '{{ producto.precio }}', '{{ producto.imagen }}');" 
                                >Agregar
                                </button>
                            {% else %}
                                <button class="btn btn-primary w-100 mt-3 "
                                onclick="agregar('{{ producto.id }}', '{{ producto.name }}', '{{ producto.precio }}', '{{ producto.imagen }}');" 
                                >Agregar
                                </button>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>
{% endfor %}

{% endblock %}
